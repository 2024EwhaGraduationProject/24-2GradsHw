# 📍 Evaluation
## 1) 평가 항목 설명
1. 검색 정확도
2. 검색 서비스 속도
3. 등록 서비스의 설명 텍스트 생성 정확도
4. 사진 등록 시 업로드 성공률

## 2) 평가 항목 선정 사유 
#### 1. 검색 정확도
   - 클로바 서비스는 검색 과정에서 상위 3개의 유사한 분실물을 반환. 사용자 UX를 고려하였을 때, 검색 초기 화면인 상위 3개의 분실물 내에 정확한 검색 결과가 반환되지 않을 경우 서비스 이용 시에 피로도가 높아져 사용자 이탈의 우려가 있음.

#### 2. 검색 서비스 속도
   - 이화여대 학생 15명 대상 베타테스트 결과 다음과 같은 기존 서비스의 Pain Point. 61.5%가 기존 서비스의 속도는 “느리다”고 평가. 기존 서비스를 이용해 검색하는 과정의 주요 Pain Point는 느린 검색 속도이기 때문에, 클로바가 이를 얼마나 개선했는지가 중요하다고 생각하기 때문임.

#### 3. 등록 서비스의 설명 텍스트 생성 정확도
   - 자동으로 물건의 설명을 생성하는 텍스트에 오류가 있을 경우 사용자가 직접 수정하는 과정에서 피로도가 높아져 사용자 이탈의 우려가 있음.

#### 4. 사진 등록 시 업로드 성공률
   - 클로바의 슬로건인 <클릭 한번에 바로 찾는 분실물>은 등록 과정에서 사진 1장만 업로드하면 된다는 것을 강조하기 위함. 사진 등록 시 오류가 발생하여 사진을 여러 번 업로드해야할 경우 사용자가 서비스에 불만족을 경험할 수 있음.

## 3) 평가 항목

### [3-1. 검색 정확도]

#### 1. 평가 항목에 대한 기술적인 설명
- **주요 Feature - 검색기능과의 연관성** : 검색 정확도는 사용자 입력 설명과 데이터베이스에 등록된 분실물 간의 유사도를 기반으로 결과를 제공하는 알고리즘의 성능을 측정함.
- **평가항목의 특성 :** 검색 정확도와 알고리즘 성능에 대해 포인트를 매겨 정량적으로 평가, 실제 검색 상황에 대해 사용자의 불편함을 최소화하기위한 성능 평가. 사용자가 직접 주어진 미션을 해결하면서 평가하는 체험형 평가.

#### 2. 평가 항목 판단기준
- **a)** 최종 포인트가 3일 경우: "정확"
- **b)** 최종 포인트가 1~3일 경우: "보통"
- **c)** 최종 포인트가 0일 경우: "부정확"

#### 3. 평가 방식
1. 하나의 물건(예: 마우스)에 대해 날짜, 시간, 분실 장소 등을 다르게 설정한 예시 상황 10개를 구축함.
   - 각 상황에 대한 습득물 게시글이 이미 DB에 업로드되어 있는 상태임.

2. 10개의 예시 상황 중 사용자가 검색을 테스트할 임의의 상황 하나를 랜덤으로 선정하여 검색 수행하는 미션이 주어짐.

3. 각자 원하는 방식대로 물건을 설명하여 프롬프트와 분실 날짜(필수값 아님)를 입력하여 검색.
   - **입력 과정 가이드라인**:
     - 찾으시려는 분실물에 대한 정보를 최대한 자세히 적어주세요. 물건의 색깔, 브랜드, 텍스트 등 적어주신 가시적인 특징을 기반으로 유저의 물건일 가능성이 높은 분실물 검색 결과를 제공합니다.
       - 예) 초록색 스타벅스 텀블러, 핑크색 털 필통
     - **분실 시간**: 물건을 분실한 것으로 예상되는 시간대를 선택해주세요. 선택하지 않을 경우 현재 시간대로 자동 설정됩니다.
     - **분실 장소**: 물건을 분실한 것으로 예상되는 장소를 선택해주세요. 선택하지 않을 경우 전체 장소를 대상으로 잃어버린 물건을 검색합니다.
     - 분실 시간과 분실 장소를 입력하지 않을 경우, 전체 시간대와 장소를 대상으로 잃어버린 물건을 검색하기에 시간이 더 소요될 수 있습니다.

4. 검색 후 제공되는 상위 3개 게시글에서 미션 상황과 일치하는 게시글이 포함되었는지 확인하여, 포함된다면 포인트에 1을 더함.

5. **지갑**과 **학생증**으로도 1~4 과정을 반복 수행.

6. 최종 포인트 산출.

<br> 

### [3-2. 검색 서비스 속도 평가]

#### 1. 평가 항목에 대한 기술적인 설명
- **주요 Feature - 검색기능과의 연관성** : 검색 서비스 속도는 사용자가 입력한 설명을 기반으로 결과를 얻는 데 소요되는 시간으로 정의됨. 검색 알고리즘이 충분히 빠른 속도를 보이는지에 대한 평가.
- **평가항목의 특성 :** 검색 서비스 속도에 대하여 직접 소요시간을 카운트하여 정량적으로 평가. 사용자가 직접 주어진 미션을 해결하면서 평가하는 체험형 평가.

#### 2. 평가 항목 판단 기준
- **"빠름"**: 검색 소요 시간이 30초 이하인 경우
- **"보통"**: 검색 소요 시간이 1분 이하인 경우
- **"느림"**: 검색 소요 시간이 1분을 초과한 경우

#### 3. 평가 방식
1. 사용자에게 주어진 분실물을 찾으라는 미션이 주어집니다.
    - 검색 정확도 평가와 마찬가지로 예시 상황 중 하나를 랜덤으로 부여합니다.

2. 과거에 자신이 분실물을 찾던 방식대로 기존 여러 서비스를 활용하여 미션을 수행합니다.
    - 예: 교내 유레카 분실물 게시판, 에브리타임 게시판 등

3. 클로바 서비스에서 동일한 물건에 대해 한 번 더 미션을 수행합니다.

4. (2)와 (3)의 수행 과정에서 검색 시작부터 원하는 물건을 찾기까지 소요되는 총 시간을 초 단위로 측정합니다.
    - 측정된 시간을 기준으로 위의 판단 기준을 참고하여 검색 속도를 평가합니다.

<br>

### [3-3. 사진 등록 시 업로드 성공률]

#### 1. 평가 항목에 대한 기술적인 설명
- **주요 Feature - 등록 기능과의 연관성** : 사진 등록 시 업로드 성공률은 사용자가 습득물에 대한 사진을 업로드했을 때 오류 없이 완료되고, 해당 이미지에 대한 정확한 설명이 생성되는 비율을 의미함. 사진 등록 과정에서 오류가 발생할 경우 사용자의 만족도가 낮아질 수 있으므로, 등록 시 성공률에 대한 평가 진행.
- **평가항목의 특성 :** 사진 등록 시 업로드 성공률에 대하여 직접 성공 횟수를 카운트하여 정량적으로 평가. 사용자가 직접 주어진 미션을 해결하면서 평가하는 체험형 평가. ****이 평가 항목은 특히 조작변인, 통제변인, 종속 변인을 고려하여 실험적으로 평가함.

#### 2. 평가 항목 판단기준
- **a) 8회 이상 버튼이 활성화된 경우**: “성공률 높음”
- **b) 6회 이상 버튼이 활성화된 경우**: “성공률 보통”
- **c) 6회 미만 버튼이 활성화된 경우**: “성공률 낮음”

#### 3. 평가 방식
1. 사용자에게 특정 물건이 주어짐.
2. 가이드라인을 따라 사용자가 물건을 10회 촬영하여 등록 서비스에 업로드합니다.
   - 가이드라인
     - **조작변인**: 광원의 위치, 사진 속 물체가 찍히는 각도, 사진 속 물체의 선명도
     - **통제변인**: 사진 속 물체의 종류, 카메라 기종, 촬영 환경
     - **종속변인**: 게시글 설명 생성 여부(성공 또는 실패)
3. 정확하게 사진에 대한 설명이 생성된 경우 <물건 설명 보기> 버튼이 활성화됩니다.
4. 10개의 사진을 각각 업로드하여 <물건 설명 보기> 버튼이 활성화된 횟수를 측정합니다.

<br>


### [3-4. 등록 서비스 설명 텍스트]

#### 1. 평가 항목에 대한 기술적인 설명
- **주요 Feature - 등록 기능과의 연관성** :  업로드된 이미지를 기반으로 Chat GPT 4o가 얼마나 정확히 텍스트를 생성하는지 평가하기 위함. Chat GPT 4o에게 이미지에서 찾을 수 있는 특징 정보인 이름, 색깔, 재질, 패턴, 텍스트, 브랜드 이름, 로고 등 발견한 모든 요소를 추출해야 한다고 프롬프트 엔지니어링을 통해 명시했기에 모든 요소를 정확히 표현하는지를 평가함.
- **평가항목의 특성 :**  사진 등록 시 설명 텍스트 생성의 신뢰도에 대하여 포인트를 매겨 정량적으로 평가. 사용자가 직접 주어진 미션을 해결하면서 평가하는 체험형 평가.

#### 2. 평가 항목 판단 기준
- **a) 최종 포인트가 1 이하일 경우**: “정확”
- **b) 최종 포인트가 2 이하일 경우**: “보통”
- **c) 최종 포인트가 2 이상일 경우**: “부정확”

#### 3. 평가 방식
1. 사용자에게 주어진 물건에 대한 등록 게시글을 생성하게 지시합니다.
2. 생성된 게시글에 인간의 판단에서 가능한 모든 경우의 요소가 포함되었는지를 비교하게 요청합니다.
3. 누락되었거나 잘못된 정보(오타, 글자 인식 오류 등)가 발생하면 포인트에 1을 추가합니다.
4. 총 5명의 사용자가 1~3 단계를 수행하여 평균을 계산하여 최종 포인트를 산출합니다.

<br><br>

# 📍 Conclusion
## 1. 평가 결과
### 1) 평가 내용 및 결과
이화여자대학교 15명에 대한 베타 테스트 결과 다음 네 가지 항목에 대해 아래와 같은 결과를 얻을 수 있었음.

### 2-1) 평가항목 1 : 검색 정확도
정확 : 13명 
<br>
보통 : 2명 
<br>
부정확 : 0명
- **정확 분석 :** 물건의 이름, 색깔, 물건 내 텍스트 정보 등 최대한 많은 정보를 포함하여 프롬프트 검색을 한 경우 검색 정확도가 상대적으로 높았음.
- **보통 분석** : 사용자가 특히 검색 과정에서 분실 시간과 분실 날짜, 분실 장소 등을 입력하지 않은 경우에 대해 검색 정확도가 상대적으로 낮았다. 물건에 대한 정보가 일부 부족하게 입력된 경우에 대해 정확도가 상대적으로 낮았음.
- **평가에 사용한 물건들에 대한 프롬프팅 예시**
    - (예시 1) 로지텍 글자가 적힌 초록색 마우스/ 검정색 왕관이 그려진 카드 지갑 / 초록색 이화여대 학생증 을 잃어버렸어.
    - (예시 2) 마우스, 검정 지갑, 학생증을 잃어버렸어.
    ⇒ 물건에 대해 상세히 설명한 사용자가(예시 1) 그렇지 않은 사용자(예시 2) 대비 높은 최종 포인트를 획득함을 확인함.

<br>

![image](https://github.com/user-attachments/assets/2422ff6b-0532-4277-a8a5-b04df6b9c7e6)



### 2-2) 평가항목 2 : 검색 서비스 속도
기존 서비스) 빠름: 2명 보통: 5명 느림: 8명 
<br>
클로바) 빠름 : 10명 보통 : 3명 느림 : 2명

- **기존 서비스 분석 :** 검색 서비스 속도가 느리다는 평가가 상대적으로 많았음. 기존에 분실물을 검색할 수 있는 다양한 플랫폼(유레카 분실물 게시판, 에브리타임 등)이 있는데, 사용자가 첫 번째로 분실물을 검색한 플랫폼에서 분실물을 찾을 수 있는지 여부가 검색 소요 시간에 많은 영향을 미침.
    
    (예시 1) 에브리타임에서 분실물 검색을 첫번째 실행하였을 때 바로 분실물을 찾은 사용자는 검색 소요 시간이 30초 이내
    
    (예시 2) 교내 유레카 게시판에서 분실물 검색을 첫 번째 실행하였을 때 분실물을 찾지 못한 사용자는, 유레카 게시판 내에서 몇 번 더 검색을 시도하며 시간을 소모하였고 다른 플랫폼인 에브리타임으로 넘어가서야 분실물을 찾을 수 있었음. 가장 오래 걸린 사용자는 검색에 5분 이상의 시간이 소요됨.
    
- **클로바 서비스 분석 :** 하나의 플랫폼에서 검색하기 때문에 플랫폼을 이동할 필요가 없어 적은 횟수로 검색에 성공한 사용자가 많아 “빠름” 평가 비중이 높음.
    
    그러나 물건에 대해서 상세히 설명한 정도, 분실시간, 날짜, 장소를 입력했는지의 여부에 따라서 검색 속도에 차이가 있었음. 이는 클로바의 기술적인 문제로 인해 발생한 문제로 판단됨. 분실시간,날짜,장소를 입력하지 않을 경우 DB 내 게시글에 대한 1차 필터링을 거치지 않고, 모든 DB내의 게시글에 대한 비교 작업을 실시하기 때문에 시간 복잡도가 급증함.
    
    ⇒ 해결방안 : 분실 시간, 날짜, 장소를 입력하도록 유도하는 참고 검색 가이드라인을 적극 권장
    
- **해결 방안을 적용하여 재평가** : 앞서 클로바 서비스에서 30초 초과의 검색 시간이 소요된 5명의 사용자에 대해 검색 가이드라인을 참고하여 다시 검색 소요 시간 테스트를 진행.
    - 5명 중 빠름 3명, 보통 2명으로 평가 결과 향상.

<br>

![image](https://github.com/user-attachments/assets/8be0b272-76ab-4449-ac86-02478973b3f2)
![image](https://github.com/user-attachments/assets/84f3f996-8910-4da9-b1d9-40602e55fedd)



### 2-3) 평가항목 3 : 사진 등록 시 업로드 성공률
물체의 종류는 “마우스”로 통일
<br>
높음 : 11명 보통 : 2명 낮음 : 2명

- **높음 분석 :** 10번의 시도 중 8회 이상 <물건 설명 보기> 버튼이 활성화된 11명의 사용자는 물건 사진을 촬영할 때 다음과 같은 경향성을 보임.
    - 물건 사진 촬영 시 최대한 빛 번짐이 없도록 광원을 가리는 행동
    - 선명하게 물건을 촬영할 수 있도록 휴대폰 카메라의 초점 기능을 활용
    - 물체를 정확하게 식별 가능한 거리, 각도에서 물건을 촬영
- **보통, 낮음 분석 :** 10번의 시도 중 8회 미만 <물건 설명 보기> 버튼이 활성화된 4명의 사용자가 촬영한 사진을 분석한 결과, 버튼이 활성화되지 않은 사진의 경우 대부분 조작 변인의 요소들이 “높음” 사용자들과 반대되는 것을 확인함.
    - 광원에 물건이 노출되어 사진에 빛 번짐 발생
    - 물체의 테두리가 흐릿하거나 초점이 번진 사진
    - 물체가 너무 작거나, 너무 확대된 거리와 각도에서 물건을 촬영
- 그 외 통제 변인으로 선정한 요소들의 경우에는 자체적으로 10회 이상 테스트한 결과 사진 등록의 성공/실패에 거의 관여하지 않았음.
    - 사진 속 물체의 종류 : 지갑, 학생증 등으로 테스트
    - 카메라 기종 : 아이폰 12 mini, 아이폰 15 pro, 아이폰 13 세 기종에 대해 테스트
    - 촬영 환경 : 책상 배경 색 (아이보리, 흰색, 회색)에 대해 테스트
    
    ⇒ 주로 사진 등록의 성공/실패에 관여하는 것은 조작 변인(광원의 위치, 사진 속 물체가 찍히는 각도, 사진 속 물체의 선명도)임을 확인함.

<br>

![image](https://github.com/user-attachments/assets/b1c0dc3e-f54c-43df-ab25-70dfe86cbe6e)


### 2-4) 평가항목 4 : 등록 서비스의 설명 텍스트 생성 신뢰도
만족 : 11명  보통 : 3명  불만족 : 1명

**부정확한 프롬프트 분석**

1. **텍스트 누락 문제** : 3가지 물건에 대해 부정확한 프롬프트가 가장 많이 발생한 물건은 Logitech 글자가 적힌 검정 마우스였음. 보통 Logitech이 아니라 Logitec, ogitech 등 일부 글자가 제외된 상태로 프롬프트가 생성된 것을 확인하였음. 
    
    ⇒ 사용자가 촬영한 사진을 분석한 결과, 마우스의 글자가 적힌 부분의 각도가 기울어져 텍스트 전체가 보이지 않는 경우에 로고 인식 오류가 발생하였기 때문에, chatGPT API가 단순히 텍스트를 탐지하지 못해 생긴 결과로 판단하였음. 
    
    (해결방안) 텍스트의 전체를 정확하게 촬영할 수 있도록 가이드라인을 제공.
    
2. **물건 탐지 오류 문제 :** 물건의 프롬프트와 카테고리를 엉뚱하게 반환하는 경우가 있었음. 예를 들어 지갑의 사진을 등록하였으나 게시글에는 마우스로 인식되어 잘못 반환됨. 
    
    ⇒  사용자가 촬영한 사진을 분석한 결과, 지갑 사진 내에 마우스가 함께 찍혀 chatGPT API가 프롬프트를 생성해야할 물체를 잘못 탐지한 것으로 판단하였음. 
    
    ⇒  사진 내에 다른 물건이 함께 촬영된 경우에 대해 추가적인 테스트를 자체 진행한 결과 완전히 두 물건이 사진 내에 겹치는 경우를 제외하고는 상대적으로 1. 사진 중앙에 위치한 2. 모든 물건의 부분이 80% 이상 등장한 물건을 중심으로 프롬프트를 생성하는 것을 확인하였음.
    
    (해결방안) 최대한 사진 내에는 등록할 물건만 위치하게 사진을 촬영하도록 가이드라인을 제공.

<br>

![image](https://github.com/user-attachments/assets/ff0a4b64-09e7-475b-b444-f2c764f6854a)


<br><br>

## 2. 결론 및 전체 정리
### 1) 과제의 전체 내용

| 항목 | 내용 |
|:---  |---  |
| (1) 문제 정의 | 교내에서 하루에 다섯 건 이상의 분실물이 발생하지만, **이화여대 학생서비스센터 분실물 게시판**은 물건에 대한 카테고리나 상세 정보를 제공하지 않아 <li> **분실물을 찾으려면** 모든 게시물을 하나하나 확인해야 하는 불편함 존재 </li><li> **분실물을 등록할 때마다** 모든 항목을 일일이 채워야 하므로 등록 과정 자체가 번거로워 누락된 정보가 많은 상황 </li><br> 따라서, 저희는 이러한 pain point를 인지했고, 학생들이 **자신이 찾는 물건에 대해 빠르고 정확하게 접근**할 수 있으며, **등록 과정 또한 간소화**하여 효율적으로 운영하는 `C.LOVA(클로바)`를 제안합니다.|
| (2) 기존연구와의 비교 | **1. 복잡한 검색 기능 해소** <br><img width="700" alt="검색 비교" src="https://github.com/user-attachments/assets/03b7dbb6-62a7-4e65-b468-2c2915be2b81"><br><br>**2. 불편한 등록 과정 간소화**<br> <img width="700" alt="등록 비교" src="https://github.com/user-attachments/assets/e6a875f6-1359-482b-a50e-e77b77724454"> |
| (3) 제안 내용 | 1. **간단한 정보 입력**으로 신속한 분실물 검색 <li> 사용자가 복잡한 절차 없이 물품 정보 간편 입력 가능 </li><br> 2. **데이터 기반**의 정확한 **매칭** 기능 제공 <li> 유사도가 높은 상위 3개의 분실물과 매칭 구현 </li><br> 3. 사용자 친화적인 자동 완성 **습득물 등록과정 간소화** <li> 정보 입력 시 자동완성 기능으로 입력 편의성 강화</li> |
| (4) 기대효과 및 의의 | <li>교내 분실물 **반환율 증가**로 분실물 저장 공간 및 재정적 **낭비 감소**</li><li>분실물 **등록 과정 간소화**로 습득 물품 관리자의 부담 완화</li><li>**기능 확장** 및 **타겟 확대**로 수요 증가</li> |
| (5) 주요 기능 리스트 | **[ 분실물 검색 ]** <br> 사용자가 분실물을 설명하는 프롬프트를 입력하면 유사한 분실물을 매칭하여 보여줍니다. <br> 1. 찾고 싶은 물건을 설명할 수 있는 프롬프트 입력 <br> 2. 프롬프트 전처리 <li>**토큰화 및 불용어 제거**된 DB 내 분실물 특징 정보 GET</li><li>용어집 외래어 추가</li> 3. 프롬프트와의 유사도 계산 후 사용자의 물건일 가능성이 높은 상위 3개 물건 제시<li>**TF-IDF 유사도 모델**로 프롬프트와 DB에 저장된 분실물 **특징 정보 벡터화**</li><li>**Cosine-Similarity**로 벡터 간 각의 코사인 값을 이용, 어휘적 유사성을평가하여 상위 후보 반환</li><br> **[ 습득물 등록 ]** <br> 습득물 사진을 등록하기만 하면 이미지 설명 API로 습득물이 자동등록 됩니다. <br> 1. 습득물 이미지 업로드 <br> 2. 이미지에서 특징 정보 추출 <li>**ChatGPT 4-o 모델**이 로고, 색깔, 재질, 텍스트 등 가시적인 물품의 특징 정보를 텍스트로 추출</li> <li>**입력값 자동완성** + 개인정보 포함 이미지는 비공개 처리 + 습득장소와 보관장소 검색 기능 추가 + 생성 결과 오류를 대비하여 수정 가능 <br> 3. 습득물 게시글 업로드 및 분실물 DB 구축 |

<br><br>

### 2) AI Feature에 대한 언급과 발전

1. 결론적으로, 기존 서비스의 Pain point를 해결하기 위한 등록, 검색 과정에서 **다양한 머신러닝 및 인공지능 API 및 모델을 사용한 새로운 패러다임**은 베타 테스트에서도 높은 만족도를 확인할 수 있었음.
2. 설문 결과를 통해 **사용자가 느끼는 속도와 정확도는 서비스를 신뢰할 수 있는 수준**이었음.
3. 그 밖에 사진 등록 시 물건 탐지 오류, 업로드 오류 등 발생할 수 있는 문제 상황에 대한 테스트를 진행하였고, 주로 이는 사용자의 행동에 의해 영향을 받는 요소였기 때문에 사용자 가이드라인을 구체화하여 제공함으로써 완화시킴.
   
<br><br>

### 3) 프로젝트의 중점 idea 기술/구현내용

프로젝트의 중점 아이디어는 다음과 같습니다. 
1. 간단한 정보 입력으로 신속한 분실물 검색
2. 데이터 기반의 정확한 매칭 기능 제공
3. 자동완성으로 간소화시킨 습득물 등록 과정

| 항목 | 내용 |
|:---  |---  |
| 📢 주요엔진 및 기능 설계 |  **[ NGINX ]** <br> HTTP 프로토콜을 통해 클라이언트(프론트엔드)와 통신하기 위하여 **오픈소스 웹서버 프로그램인 NGINX**를 이용하였습니다. <br><br> 1. 분실물 검색 과정에서는 Scikit-Learn 패키지를 이용하기 때문에 일반적인 요청에 비해 오랜 응답 시간이 걸리는 것을 확인했습니다. <br> 2. 따라서, NGINX가 프록시 서버 통신을 위해 기다리는 시간을 최대 5분 (300s)로 설정하여 통신 중 연결이 끊어지지 않도록 설계하였습니다. <br> <img width="540" alt="스크린샷 2024-11-06 오후 11 20 46" src="https://github.com/user-attachments/assets/4ed40871-3072-46fa-b693-a3f6506984d2"> <br><br> **[배포 자동화]** <br> AWS 배포 이후 기능 수정이 필요할 경우의 번거로움을 줄이기 위해 **Git Actions**를 통해 배포를 자동화하였습니다. <br><br> 1. deploy.yml 파일을 통해 **Git Actions을 통한 배포 자동화**를 구현하였습니다. <br> 2. C.LOVA에서는 **OpenAI**인 ChatGPT4o와 Google Cloud API, 여러 라이브러리를 사용합니다. <br> 3. API 사용을 위한 Secret json 파일과 API들의 KEY 등 중요 정보를 관리하는 ENV 파일은 보안 문제로 Git에 업로드 하지 않습니다. <br> 4. 이런 파일들은 Git Secrets에 따로 등록하여, deploy.yml에서 프로젝트를 Build할 때 이용할 수 있도록 설계하였습니다. <br> <br><img width="549" alt="스크린샷 2024-11-06 오후 11 26 50" src="https://github.com/user-attachments/assets/f10410cf-663f-424b-90f9-2df63d230ecd"> <br><br> **[Docker 가상환경 Build]** <br> **Docker**를 통해 가상환경 컨테이너를 실행, 관리합니다. <br><br> 1. 빌드 과정에서 필요한 파이썬 패키지는 requirements.txt 파일에 정리하여 한번에 설치합니다. <br> 2. **Scikit Learn을 설치**하는 과정에서 서버 응답 시간과 메모리 사용량을 초과하는 문제를 해결하기 위하여 **python:3.8-slim-buster Image**를 Builder로 이용하였습니다. <br> <img width="523" alt="스크린샷 2024-11-06 오후 11 28 04" src="https://github.com/user-attachments/assets/3baa8cb3-57f2-49fd-8b4e-125ebae791d2"> <br><br> **[SMTP 프로토콜을 통한 이화인 인증]** <br> 교내 분실물을 대상으로 하는 서비스이기 때문에, 보안을 위하여 이화인만 가입할 수 있도록 하였습니다. 그러기 위해서는 이화인 메일 인증 프로세스가 필요합니다. <br><br> 1. 이화인 아이디를 입력하면, @ewha.ac.kr 의 도메인을 자동으로 붙여 메일을 보낼 주소를 생성합니다. <br> 2. Django.core.mail 을 이용해 메일을 발송하는 방식으로 구현하였습니다.  <br><br> <img width="682" alt="스크린샷 2024-11-06 오후 11 28 57" src="https://github.com/user-attachments/assets/01322b32-c025-466e-9323-cef3e42e91c6"> <br><br> 3. 웹페이지의 [request.data](http://request.data) 에서 email 변수를 찾아, @ewha.ac.kr 도메인을 붙인 email로 이메일을 발송합니다. <br> 4. Django.Core.Mail을 사용하기 위해서 settings 폴더의 [base.py](http://base.py)에서 아래와 같이 설정하였습니다.  <br><br><img width="688" alt="스크린샷 2024-11-06 오후 11 29 45" src="https://github.com/user-attachments/assets/98bfbb40-2146-4a4d-923a-611450b15e0e"> <br><br> 5. Host는 이메일 발송 및 팀 프로젝트 관리를 위한 구글 계정(2024clova)을 생성하여 설정하였습니다. 2024clova 내의 App Password 를 이용하여 2024clova@gmail.com가 요청한 사용자에게 이메일을 보낼 수 있도록 하였습니다.||
| 📢 주요 기능의 구현 | **[ 분실물 검색 유사도 처리 ]** <br><img width="360" alt="유사도코드1" src="https://github.com/user-attachments/assets/093099f7-1b82-4cde-9d42-6e7f09ac4825"><img width="430" alt="유사도코드2" src="https://github.com/user-attachments/assets/89d5b949-64ae-4684-826d-c1a1921eb10e"> <br><br> 1. 불필요한 문장 부호를 제거하고 동사 형용사의 경우 어간만 추출하기 위해 **koNLPy의 Komoran 패키지**를 사용하여 **토큰화**를 진행했습니다. <br><br> 2. Word2vec, ko-bert, TF-IDF 등 다양한 **한국어 유사도 모델**을 시도하며, 유사한 물건을 얼마나 가려내는지 그리고 유사도 점수의 차이는 어떠한 지 등을 확인하며 **최적의 모델을 탐색**했습니다. 그 과정 속에서 영문명이나 외래어에서의 유사도를 잘 잡아내지 못함을 인식하였습니다. 이를 보완하기 위해 <li>**이들을 한글로 표현한 특징 정보를 추가**하고,</li><li> **GPT 프롬프트에서도 답변의 경계를 설정**하였습니다.</li> 예를 들어, 너무나 많은 색깔이 세상에 존재하기 때문에 대표적인 25가지의 색 내에서만 답변하도록 설정하였고, **해당 색상들의 영어식 표현 추가**하였습니다. (EX ; 빨강이면 레드 단어 추가)</li> <br><br>3. 또한, starbucks, odense 등 **외래어 브랜드**가 물건 속 텍스트 추출 과정에서 존재했기에 **구글 번역 API**를 활용하여 스타벅스, 오덴세 등으로 추가했습니다. <br><br> 4. 이렇게 특징 정보를 구축한 후, 지도 교수님의 면담 과정에서 추천받은 **TF-IDF 기법**을 활용하여 유사도를 계산했습니다. TF-IDF는 문서 내 단어의 중요도를 가중치를 통해 계산하는 방법으로, 이를 통해 분실물 정보 간의 **유사도를 정량화**했습니다. 최종적으로 도출된 상위 3개의 유사 분실물 정보를 서버에 전송하도록 구현했습니다.  <br><br> **[ 습득물 등록 프롬프트 ]** <br><img width="362" alt="등록프롬프트" src="https://github.com/user-attachments/assets/0d8644a8-6f94-43ac-9b6a-cad284031ff8"> <br><br> 1. **프롬프트 엔지니어링**을 통해 AI가 특정 물건에 대해 정해진 범위 내에서 객관적이고 세부적으로 설명할 수 있도록 프롬프트 설정 물건 정보를 요약한 게시글 제목과 물건의 카테고리도 생성하여 효율적인 프로세스 설계하였습니다. <br><br> 2. 카테고리나 색상 등은 많은 경우의 수가 있기 때문에 **교내 분실물 게시판의 분실물 데이터를 분석**하여, 일반적인 범위를 설정하였습니다. 또한, **신용카드, 증명사진, 서류 등 개인정보가 포함된 물품**은 별도의 카테고리를 설정하여, 나중에 게시글에서 물건 사진이 보이지 않게 처리하여, 혹시 모를 보안 문제를 방지했습니다. |

<br><br>

### 4) 과제의 중점 결과 (장점, main feature 등) 정리
                                                                                                                                                                                                                                                                                                                                                                        
| 항목 | 내용 |
|:---  |---  |
| 📢 장점 |  1. **간단한 정보 입력**으로 신속한 분실물 검색 <li> 사용자가 복잡한 절차 없이 물품 정보 간편 입력 가능 </li><br> 2. **데이터 기반**의 정확한 **매칭** 기능 제공 <li> 유사도가 높은 상위 3개의 분실물과 매칭 구현 </li><br> 3. 사용자 친화적인 자동 완성 **습득물 등록과정 간소화** <li> 정보 입력 시 자동완성 기능으로 입력 편의성 강화</li> |
| 📢 기대효과 |  <li>교내 분실물 **반환율 증가**로 분실물 저장 공간 및 재정적 **낭비 감소**</li><li>분실물 **등록 과정 간소화**로 습득 물품 관리자의 부담 완화</li><li>**기능 확장** 및 **타겟 확대**로 수요 증가</li> |
| 📢 요구사항 정의 | ![요구사항 피드백반영 drawio](https://github.com/user-attachments/assets/0feebfa7-025f-4647-9e0e-fb6965272dd3)|
| 📢 전체 시스템 구성 (main Feature) |**[ 시스템 아키텍쳐 구조도 ]** <br> ![아키텍처 구조도](https://github.com/user-attachments/assets/4c5ca1a4-1b41-4659-a8d9-a3a2390f6221) <br><br> **[ 분실물 검색 ]** <br> 1. 프롬프트 작성 <br> <li>사용자는 잃어버린 물건에 대해 친구에게 설명하듯이 물건 정보를 프롬프트로 작성합니다. 이후 **POST 요청**으로 서버에 텍스트를 전송합니다. <br> 예시: "은색 띠가 있는 핑크색 스탠리 텀블러" </li> <br> 2. 자연어 전처리 <br> <li>한국어 문장의 특성상 유사도 계산을 방해하는 불필요한 문장 성분을 제거하기 위해 **NLTK와 koNLPy를 활용**하여 텍스트를 토큰화하고 불용어를 제거했습니다. 또한 색상에 대한 영문 표현을 추가하였으며, 모델이 유사성을 판단하기 어려운 외국어 텍스트와 브랜드명에 대해서는 구글 번역 API를 사용해 한국어 정보를 보완하는 등 **전처리를 수행**했습니다. </li> <br> 3. 유사도 계산 <br><li> 사용자가 입력한 프롬프트와 데이터베이스에 저장된 분실물들의 특징 정보를 대상으로 **TF-IDF 모델**을 활용하여 유사도를 계산합니다. 이를 통해 상위 **3개의 유력한 분실물 게시물 ID를 매칭**하고, 프론트엔드에서 해당 게시물을 표시할 수 있도록 반환합니다.</li> <br><br> **[ 습득물 등록 ]** <br> 1. 습득물 이미지 업로드 <br><li> 이미지 업로드를 위해서 프론트엔드에서는 사용자가 선택한 이미지를 **File 타입으로 저장**한 후, **POST 요청**을 통해 서버로 전송합니다. </li> <br> 2. 물품의 특징 정보를 텍스트로 추출 <br><li> 서버는 전달받은 이미지를 ChatGpt 4-o 모델에 적용합니다. 모델은 사전에 정의한 프롬프트에 따라 이미지에서 로고, 색깔, 재질, 텍스트 등 **가시적인 물품의 특징 정보를 텍스트로 추출**합니다. </li> <br> 3. 사용자 입력 최적화 <br><li> 추출된 입력 정보를 프론트엔드에서 **GET 통신**으로 받아옵니다. 사용자는 자동으로 입력된 물건 이미지 정보를 확인할 수 있습니다. 더불어, 물건 분실 장소 또는 보관 장소는 단어의 일부만 입력해도 연관 장소를 추천하는 자동완성 기능을 통해 입력 과정을 최적화했습니다.</li>|

<br><br>

### 5) 향후 진행 예정

| 항목 | 내용 |
|:---  |---  |
| 📢 기술적인 발전 | <br><li> 검색 정확도 : 물건 분류에 필요한 추가 항목인 분실 시간, 날짜에 대한 필터링을 진행할 것을 적극적으로 강조하여 예상되는 분실물의 범위를 줄어들게 함. <br><li> 검색 서비스 속도 : 검색 속도를 기존 30초 이내에서 10초 이내로 확실히 줄어들게 할 수 있도록 DB에 분실물을 저장하는 과정에서 전처리를 미리 진행하는 방안을 떠올림. 미리 전처리를 진행한 DB끼리 비교한다면 검색 시간이 매우 줄어들 수 있을 것으로 기대됨. <br><li> 사진 등록 시 업로드 성공률 : 사진 업로드 시 사진 촬영 가이드라인의 예시 사진까지 제공하여 사용자가 정확하게 사진을 촬영할 수 있도록 함. 사진이 서버로 옮겨오는 과정에서 현재는 두번 저장하는 과정을 거치는데, 이는 저장공간의 낭비를 초래하므로 한번만 저장하도록 코드를 리팩토링하여 최적화. <br><li> 등록 서비스의 설명 텍스트 생성 신뢰도 : 사용자가 입력한 프롬프트를 정제하여 다시끔 ChatGPT AI가 학습할 수 있도록 함. 특히 4번 평가항목에서 자주 발생하는 오류에 대하여, 처음의 사용자가 오류를 수정한 경우 이후의 사용자에게는 수정된 프롬프트를 제공할 수 있도록 엔지니어링 하여 서비스를 발전할 수 있도록 함. |
| 📢 서비스의 발전 | <br><li> 5년 이내 전국적으로 분실물 관리의 표준 서비스가 되는 것을 목표로 서비스를 발전해나갈 것임. <br><li> 초기에는 이화여대의 분실물 센터를 대상으로 시작하여, 대중교통과 공공기관 등 전국을 대상으로 점차 서비스를 확장해나가는 것을 목표로 함. 그러기 위하여 파트너십을 구축하고 공공기관과의 협력 등을 통해 확대해야 할 것으로 예상됨. <br> ![image](https://github.com/user-attachments/assets/15381216-6ab2-4094-8016-df31ed9b7bea) |

<br><br>

### 6) 추가 고려사항

1. 충분한 유저가 확보되기 전까지는 비축하고 있는 분실물 **데이터가 없거나 적을 것임**
    - 분실물센터 협업 통해 데이터셋 확보 예정

2. 초반 유저의 부족
    - 교내 서비스 홍보를 통해 사용자 확보

